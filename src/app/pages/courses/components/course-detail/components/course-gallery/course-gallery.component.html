<div class="select-none px-4 lg:px-0 -mt-24 md:-mt-28">  
  <div class="group relative border-2 border-zinc-800 rounded-xl overflow-hidden w-screen max-w-full lg:max-w-3xl aspect-video mx-auto shadow-2xl scale-100 hover:scale-105 transition-all duration-300">
    <ng-container *ngFor="let img of normGallery; let i = index;">
      <img
        ixImg
        (load)="imgLoaded(i)"
        [path]="img.src"
        [ngClass]="{
          'opacity-100': i === selectedImg,
          'opacity-0': i > selectedImg
        }"
        alt=""
        class="absolute top-0 left-0 w-full h-full object-cover object-center rounded-xl transition-all duration-300"
      >
      <div
        *ngIf="i === 0"
        [ngClass]="{
          'opacity-0': img.loaded,
          'opacity-100': !img.loaded
        }"
        class="w-full h-full rounded-md sm:rounded-xl bg-zinc-800 absolute top-0 left-0 z-10 opacity-100 transition-all duration-300 pointer-events-none">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-20 h-20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" style="shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
          <circle cx="50" cy="50" fill="none" class="stroke-zinc-500" stroke-width="10" r="42" stroke-dasharray="197.92033717615698 67.97344572538566">
            <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
          </circle>
        </svg>
      </div>
    </ng-container>
    <div class="absolute w-max top-1/2 left-8 -translate-y-1/2 scale-90 lg:scale-100 lg:opacity-0 group-hover:opacity-100 -translate-x-4 z-40 lg:group-hover:translate-x-0 transition-all duration-300">
      <div (click)="previousImg()" class="w-12 h-12 flex items-center justify-center bg-zinc-50/60 backdrop-blur hover:bg-zinc-50 rounded-full shadow-2xl translate-x-0 hover:-translate-x-1 cursor-pointer transition-all duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-zinc-900 -translate-x-0.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
      </div>
    </div>
    <div class="absolute w-max top-1/2 right-8 -translate-y-1/2 scale-90 lg:scale-100 lg:opacity-0 group-hover:opacity-100 translate-x-4 z-40 lg:group-hover:translate-x-0 transition-all duration-300">
      <div (click)="nextImg()" class="w-12 h-12 flex items-center justify-center  bg-zinc-50/60 backdrop-blur hover:bg-zinc-50 rounded-full shadow-2xl translate-x-0 hover:translate-x-1 cursor-pointer transition-all duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-zinc-900 translate-x-0.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
      </div>
    </div>
  </div>
  <div class="relative mt-6 w-screen max-w-full lg:max-w-3xl overflow-x-auto overflow-y-hidden flex flex-row mx-auto gap-2 sm:gap-4 snap-x py-2 pl-2">
    <ng-container *ngFor="let img of normGallery; let i = index">
      <div
        class="relative w-20 sm:w-32 md:w-52 lg:h-32 aspect-video"
      >
        <img
          ixImg
          (load)="imgLoaded(i)"
          loading="lazy"
          (click)="nextImg(i - 1)"
          [path]="img.src"
          [ngClass]="{
            'scale-105 hover:scale-100 border-2 border-zinc-200': i === selectedImg,
            'scale-95 hover:scale-100 border-0': i !== selectedImg
          }"
          alt=""
          class="w-20 sm:w-32 md:w-52 lg:h-32 aspect-video object-cover object-center rounded-md sm:rounded-xl scale-95 hover:scale-100 border-0 cursor-pointer transition-all duration-300"
        >
        <div
          [ngClass]="{
            'opacity-0': img.loaded,
            'opacity-100': !img.loaded
          }"
          class="w-20 sm:w-32 md:w-52 lg:h-32 aspect-video rounded-md sm:rounded-xl bg-zinc-800 absolute top-0 left-0 z-10 opacity-100 transition-all duration-300 pointer-events-none">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-5 h-5 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" style="shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
            <circle cx="50" cy="50" fill="none" class="stroke-zinc-500" stroke-width="10" r="42" stroke-dasharray="197.92033717615698 67.97344572538566">
              <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
            </circle>
          </svg>
        </div>
      </div>
    </ng-container>
  </div>
</div>